/**
 * halo_materialyour - ‰∏Ä‰∏™MaterialÈ£éÊ†ºÁöÑHaloÂçöÂÆ¢‰∏ªÈ¢ò
 * @authors Dnxrzl
 * @version v1.0.0
 * @link https://github.com/daifiyum/halo-theme-MaterialYour#readme
 * @license MIT
 */
"use strict";console.log("%c DNXRZL %c MaterialYour ","color:#fff;background:#6cf;padding:5px 0;border: 1px solid #6cf;","color:#6cf;background:none;padding:5px 0;border: 1px solid #6cf;");var dnxrzl={addShadow:function(){var t=$("#selfAppbar");$(document).scroll(function(){1<$(document).scrollTop()?t.removeClass("mdui-shadow-0"):t.addClass("mdui-shadow-0")})},autoImg:function(){var t=1;$(window).resize(function(){1==t&&(t++,dnxrzl.autoImg())}),700<=window.innerWidth&&window.innerWidth<900?$(".postBackground").css("height","270px"):900<=window.innerWidth?$(".postBackground").css("height","290px"):$(".postBackground").css("height","220px")},copyLink:function(){new ClipboardJS(".postCopyLink").on("success",function(t){mdui.snackbar({message:"Â∑≤Â§çÂà∂",position:"left-bottom"})})},gettime:function(){var t=new Date;$("#timeyear").text(t.getFullYear())},getcolor:function(){var t=$("body"),o=$(".mdui-toolbar").css("background-color"),n=$(".mdui-toolbar").css("color");t.css({"--themeColor":o,"--fontColor":n})},welcome:function(){var t=$(".welcome_hello"),o=(new Date).getHours();6<=o&&o<12?t.text("Êó©‰∏äÂ•ΩÔºÅ"):12<=o&&o<14?t.text("‰∏≠ÂçàÂ•ΩÔºÅ"):14<=o&&o<19?t.text("‰∏ãÂçàÂ•ΩÔºÅ"):19<=o&&o<22?t.text("Êôö‰∏äÂ•ΩÔºÅ"):t.text("ÊôöÂÆâÔºÅ")},totop:function(){$(".totop").click(function(){$("html,body").animate({scrollTop:0},300)}),$(window).scroll(function(){800<$(window).scrollTop()?$(".totop").fadeIn(300):$(".totop").fadeOut(300)})},journlike:function(){$(document).on("click",".likeb",function(){var t=$(this).attr("id"),o=$(this);"true"==o.attr("clickNum")?(o.attr("clickNum","false"),$.ajax({url:"/api/content/journals/"+t+"/likes",type:"POST",async:!0,crossDomain:!0,headers:{},success:function(t){o.children("i").addClass("journliked"),o.children("span").addClass("journliked"),o.children("span").text(parseInt(o.children("span").text())+1)},timeout:3e3,error:function(){mdui.snackbar({message:"ÁΩëÁªúËØ∑Ê±ÇÂ§±Ë¥•ÔºåËØ∑Á®çÂêéÂÜçËØï",position:"left-bottom"})}})):mdui.snackbar({message:"Â∑≤ÁªèËµûËøáÂï¶~",position:"left-bottom"})})},journComment:function(){$(document).on("click",".chatb",function(){$(this).parents(".journBottom").next().toggle()})},picInit:function(){(-1!=window.location.pathname.search("/photos")?$(".grid img"):$(".mdui-typo img")).each(function(){$(this).parent().attr({"data-fancybox":"gallery","data-src":$(this).attr("src")})})},switchIndex:function(){tocbot.init({tocSelector:".toc-content",contentSelector:".js-toc-content",headingSelector:"h1, h2, h3, h4, h5, h6",headingsOffset:80,scrollSmoothOffset:-80}),"post"==postyes&&0!=$(".toc-content").children().length&&($(".toc_drawer,.toc_button").css("display","block"),$("body").addClass("mdui-drawer-body-right"),$(".nodesk").css("display","none"));var t=mdui.$,o=(t(".mdui-appbar").on("pin.mdui.headroom",function(){$(".toc_drawer").animate({top:"64px"},300),$(".toc-content").css("height","calc(100vh - 125px)")}),t(".mdui-appbar").on("unpin.mdui.headroom",function(){$(".toc_drawer").animate({top:"0px"},300),$(".toc-content").css("height","calc(100vh - 65px)")}),1);$(window).resize(function(){window.innerWidth<1024&&1==o?($(".toc_drawer").removeClass("mdui-drawer-open"),o=2):1024<window.innerWidth&&(o=1)})},mfancybox:function(){Fancybox.bind("[data-fancybox]",{Thumbs:!1,Image:{zoom:!0},Toolbar:{display:["zoom","download","close"]}})},mistope:function(){var o=$(".grid").isotope({itemSelector:".grid-item",percentPosition:!0,layoutMode:"masonry",masonry:{columnWidth:".grid-item"}}),t=(o.imagesLoaded().progress(function(){o.isotope()}),mdui.$);new mdui.Tab("#tab");t("#tab").on("change.mdui.tab",function(t){t="."+t._detail.id;".all"==t?o.isotope({filter:""}):o.isotope({filter:t})})},ajaxPostLists:function(){$("#loadData").on("click",function(){var c=this;$("#loadData").text("Âä†ËΩΩ‰∏≠..."),$.ajax({url:$(this).attr("data-href"),type:"GET",success:function(t){var o,n,e,a,i=$(t).find("#loadData").attr("data-href");-1!=$(c).attr("data-href").search("journals")?($(".journalList .journItem:last-child").after($(t).find(".journalList .journItem")),dnxrzl.picInit(),darkMode.firstDark(),dnxrzl.dealCodeHighlight(),dnxrzl.table()):-1!=$(c).attr("data-href").search("archives")?(o=[],$(".archives .archMain .archCell .archiveyear").each(function(){o.push(parseInt($(this).text()))}),n=o[o.length-1],e=parseInt($(t).find(".archMain .archCell:first-child .archiveyear").text()),a=$(t).find(".archMain"),n==e&&a.find(".archCell:first-child .archiveyear")[0].remove(),$(".archMain:last-child").after(a)):($("#pload article:last-child").after($(t).find("#pload > article")),dnxrzl.mylazyload()),$("#loadData").text("Âä†ËΩΩÊõ¥Â§ö"),null!=i?$("#loadData").attr("data-href",i):$(".nextPage").html('<button class="mdui-ripple">Ê≤°Êúâ‰∫Ü</button>')},timeout:3e3,error:function(){mdui.snackbar({message:"Êú™ÂìçÂ∫îÔºÅ",position:"left-bottom"})}})})},searchNew:function(){var o=$(".searchInput"),n=$(".searchInput input"),t=$(".searchMask"),e=$("body"),a=$("header .mdui-appbar");$(document).on("click",".searchNew,.searchInput .back",function(){"none"==o.css("display")?(o.css("display","flex"),n.focus(),t.css("display","block").animate({opacity:.5},300,function(){e.css("overflow","hidden"),a.removeClass("mdui-headroom")})):o.css("display","none")}),n.blur(function(){o.css("display","none"),t.animate({opacity:0},300,function(){t.css("display","none"),e.css("overflow","initial"),a.addClass("mdui-headroom")})}),$(document).on("mousedown",".backClose",function(){event.preventDefault(),n.val(""),o.removeClass("notEmoty")}),$(".searchInput input").bind("input propertychange",function(t){0!=n.val().length?o.addClass("notEmoty"):o.removeClass("notEmoty")})},oneWord:function(t){function o(){return t.apply(this,arguments)}return o.toString=function(){return t.toString()},o}(function(){"false"!=oneWord&&$.ajax({url:"https://v1.hitokoto.cn/"+mconfig,type:"GET",dataType:"json",data:aWordConfig,async:!0,crossDomain:!0,success:function(t){$(".welcome_descr").text(t.hitokoto+"‚Äî‚Äî"+(null!=t.from_who?t.from_who:"")+"„Äå"+(null!=t.from?t.from:"")+"„Äç")}})}),mylazyload:function(){$(".lazyloadImg").lazyload()},codeCopy:function(){new ClipboardJS(".mybtn").on("success",function(t){t.clearSelection(),mdui.snackbar({message:"Â∑≤Â§çÂà∂",position:"left-bottom"})})},dealCodeHighlight:function(){var e=1;$(".mdui-typo pre").each(function(){$(this).children("code").attr("id","hljs"+e);var t='<button class="mybtn" data-clipboard-target="#hljs'+e+'" mdui-tooltip="{content: \'Â§çÂà∂\'}"><i class="mdui-icon material-icons">content_copy</i></button>',t=(e++,$(this).append(t),$(this).children("code")),o=t[0].className.split(" "),n="";o.some(function(t){if(-1<t.indexOf("language-"))return n=t.substring(t.indexOf("-")+1,t.length),!0}),null==hljs.getLanguage(n.toLowerCase())&&(o=hljs.highlightAuto(t.text()),t.removeClass("language-"+n),null==(n=o.language)&&(n="text"),t.addClass("language-"+n))}),$(".mdui-typo pre code").each(function(t,o){hljs.lineNumbersBlock(o)}),$(".mdui-typo pre code").each(function(){$(this).hasClass("inited")||(hljs.highlightElement(this),$(this).addClass("inited"))})},autoDarkTips:function(){"true"==localStorage.getItem("autoDark")&&null==localStorage.getItem("darkTipsOk")&&(localStorage.setItem("darkTipsOk",0),mdui.snackbar({message:"Â∑≤Ëá™Âä®ÂàáÊç¢ÈªëÊöóÊ®°Âºèüåô",position:"right-top"}))},table:function(){$(".mdui-typo>table").addClass("mdui-table mdui-table-hoverable").wrap('<div class="mdui-table-fluid">')},like_post:function(){$(document).on("click",".like_button",function(){var t=$(this).attr("id"),o=$(this);"true"==o.attr("clickNum")?(o.attr("clickNum","false"),$.ajax({url:"/api/content/posts/"+t+"/likes",type:"POST",async:!0,crossDomain:!0,headers:{},success:function(t){o.addClass("activeLike"),o.children("span").text(parseInt(o.children("span").text())+1+" Ëµû")},timeout:3e3,error:function(){mdui.snackbar({message:"ÁΩëÁªúËØ∑Ê±ÇÂ§±Ë¥•ÔºåËØ∑Á®çÂêéÂÜçËØï",position:"left-bottom"})}})):mdui.snackbar({message:"Â∑≤ÁªèËµûËøáÂï¶~",position:"left-bottom"})})}};document.addEventListener("DOMContentLoaded",function(){dnxrzl.welcome(),dnxrzl.mylazyload(),dnxrzl.getcolor(),dnxrzl.addShadow(),dnxrzl.copyLink(),dnxrzl.switchIndex(),dnxrzl.ajaxPostLists(),dnxrzl.autoImg(),dnxrzl.gettime(),dnxrzl.oneWord(),dnxrzl.picInit(),dnxrzl.mfancybox(),dnxrzl.table(),dnxrzl.dealCodeHighlight(),dnxrzl.codeCopy(),dnxrzl.totop()});